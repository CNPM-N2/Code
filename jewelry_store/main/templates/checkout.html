{% extends 'base.html' %} 
{% load static %}
{% load humanize %}

{% block title %}Checkout{% endblock %} 
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/checkout.css' %}">
{% endblock %}
{% block content %}
<div class="container checkout-container">
  <div class="checkout-grid">
    <div class="checkout-form-section">
      <h2 class="checkout-title">Thông tin thanh toán</h2>
      <form id="checkout-form">
        {% csrf_token %}
        <div class="form-section">
          <h3 class="form-section-title">Thông tin cá nhân</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="name">Họ và tên</label>
              <input required type="text" id="name" name="ten" placeholder="Nhập họ và tên...">
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input required type="email" id="email" name="email" placeholder="example@email.com">
            </div>
          </div>
        </div>

        <div class="form-section">
          <h3 class="form-section-title">Thông tin giao hàng</h3>
          <div class="form-group full-width">
            <label for="address">Địa chỉ</label>
            <input type="text" id="address" name="dia_chi" placeholder="Nhập địa chỉ chi tiết...">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="city">Thành phố</label>
              <input type="text" id="city" name="thanh_pho" placeholder="Nhập tên thành phố...">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="phone">Số điện thoại</label>
              <input type="tel" id="phone" name="mobile" placeholder="Nhập số điện thoại...">
            </div>
          </div>
        </div>

        <button type="submit" class="submit-btn">Tiếp tục thanh toán</button>
      </form>
    </div>

    <div class="order-summary-section">
      <h2 class="checkout-title">Thanh toán</h2>
      <div class="order-total">
        <div class="order-total-row grand-total">
          <span>Tổng tiền:</span>
          <span class="order-total-value">{{ order.get_cart_total|floatformat:0|intcomma }} VNĐ</span>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.getElementById('checkout-form').addEventListener('submit', function(e) {
    e.preventDefault();
    alert('Đặt hàng thành công! Cảm ơn bạn đã mua sắm.');
    window.location.href = "{% url 'main:home' %}";
  });
</script>
{% endblock %}
